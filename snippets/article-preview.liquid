<article class="grid__cell 1/3--handheld-and-up article article--preview">
  {% if article.image %}
    <a
      class="article__image-link"
      href="{{ article.url }}"
      style="background: url({{ article.image | image_url: width: 50 }})"
    >
      {% include 'image-size', sizes: '200,300,400,600,800', image: article.image %}

      <div class="aspect-ratio" style="max-width: {{ article.image.width }}px; padding-bottom: 70%;">
        {{
          article.image
          | image_url: width: 800
          | image_tag:
            widths: '200,300,400,600,800',
            sizes: 'auto',
            class: 'article__image lazyload image--fade-in',
            loading: 'lazy',
            alt: article.title
        }}
      </div>
    </a>
  {% endif %}

  <div class="article__inner">
    <header class="article__header">
      <div class="article__meta">
        <time datetime="{{ article.published_at | date: '%Y-%m-%dT%T' }}" class="article__date">
          {{- article.published_at | date: format: 'month_day_year' -}}
        </time>

        {% if show_author %}
          <span class="article__separator">â€¢</span>
          <span class="article__author">{{ article.author }}</span>
        {% endif %}

        {% if blog.comments_enabled? %}
          <a href="{{ article.url }}#comments-list" class="article__comments">
            {{- article.comments_count -}}
            {%- include 'icon' with 'comments' -%}
          </a>
        {% endif %}
      </div>

      <header class="article__title">
        <a href="{{ article.url }}">{{ article.title }}</a>
      </header>
    </header>

    <p class="article__excerpt">
      {{ article.excerpt_or_content | strip_html | truncatewords: 25 }}
    </p>

    <a class="article__read-more" href="{{ article.url }}">
      {{ 'blog.article.read_more' | t }}
      {% include 'icon' with 'arrow-right' %}
    </a>
  </div>
</article>
